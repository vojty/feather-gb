"use strict";(self.webpackChunkfeather_gb=self.webpackChunkfeather_gb||[]).push([[568],{3595:(n,e,t)=>{t.d(e,{Ih:()=>k,Lt:()=>A,O7:()=>L,O_:()=>w,Or:()=>R,PZ:()=>N,S1:()=>j,fY:()=>B,gk:()=>P,m_:()=>E,n6:()=>S,pT:()=>O,ug:()=>T,yq:()=>C});var r=t(3013);n=t.hmd(n);const o=new Array(32).fill(void 0);function i(n){return o[n]}o.push(void 0,null,!0,!1);let a=o.length;function c(n){a===o.length&&o.push(o.length+1);const e=a;return a=o[e],o[e]=n,e}function s(n){const e=typeof n;if("number"==e||"boolean"==e||null==n)return`${n}`;if("string"==e)return`"${n}"`;if("symbol"==e){const e=n.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==e){const e=n.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(n)){const e=n.length;let t="[";e>0&&(t+=s(n[0]));for(let r=1;r<e;r++)t+=", "+s(n[r]);return t+="]",t}const t=/\[object ([^\]]+)\]/.exec(toString.call(n));let r;if(!(t.length>1))return toString.call(n);if(r=t[1],"Object"==r)try{return"Object("+JSON.stringify(n)+")"}catch(n){return"Object"}return n instanceof Error?`${n.name}: ${n.message}\n${n.stack}`:r}let u=0,l=new Uint8Array;function d(){return 0===l.byteLength&&(l=new Uint8Array(r.memory.buffer)),l}let f=new("undefined"==typeof TextEncoder?(0,n.require)("util").TextEncoder:TextEncoder)("utf-8");const p="function"==typeof f.encodeInto?function(n,e){return f.encodeInto(n,e)}:function(n,e){const t=f.encode(n);return e.set(t),{read:n.length,written:t.length}};function g(n,e,t){if(void 0===t){const t=f.encode(n),r=e(t.length);return d().subarray(r,r+t.length).set(t),u=t.length,r}let r=n.length,o=e(r);const i=d();let a=0;for(;a<r;a++){const e=n.charCodeAt(a);if(e>127)break;i[o+a]=e}if(a!==r){0!==a&&(n=n.slice(a)),o=t(o,r,r=a+3*n.length);const e=d().subarray(o+a,o+r);a+=p(n,e).written}return u=a,o}let b=new Int32Array;function m(){return 0===b.byteLength&&(b=new Int32Array(r.memory.buffer)),b}let x=new("undefined"==typeof TextDecoder?(0,n.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});function h(n,e){return x.decode(d().subarray(n,n+e))}function w(){return r.get_audio_buffer_size()>>>0}x.decode();let y=32;function v(n){if(1==y)throw new Error("out of js stack");return o[--y]=n,y}function j(){r.init()}function _(n,e){try{return n.apply(this,e)}catch(n){r.__wbindgen_exn_store(c(n))}}const A=Object.freeze({ArrowDown:0,0:"ArrowDown",ArrowLeft:1,1:"ArrowLeft",ArrowRight:2,2:"ArrowRight",ArrowUp:3,3:"ArrowUp",A:4,4:"A",B:5,5:"B",Start:6,6:"Start",Select:7,7:"Select"});class S{static __wrap(n){const e=Object.create(S.prototype);return e.ptr=n,e}__destroy_into_raw(){const n=this.ptr;return this.ptr=0,n}free(){const n=this.__destroy_into_raw();r.__wbg_webcartridge_free(n)}constructor(n){const e=function(n,e){const t=e(1*n.length);return d().set(n,t/1),u=n.length,t}(n,r.__wbindgen_malloc),t=u,o=r.webcartridge_new(e,t);return S.__wrap(o)}}class L{static __wrap(n){const e=Object.create(L.prototype);return e.ptr=n,e}__destroy_into_raw(){const n=this.ptr;return this.ptr=0,n}free(){const n=this.__destroy_into_raw();r.__wbg_webemulator_free(n)}constructor(n,e){try{!function(n,e){if(!(n instanceof e))throw new Error(`expected instance of ${e.name}`);n.ptr}(n,S);var t=n.ptr;n.ptr=0;const i=r.webemulator_new(t,v(e));return L.__wrap(i)}finally{o[y++]=void 0}}run_frame(){r.webemulator_run_frame(this.ptr)}get_canvas_data_pointer(){return r.webemulator_get_canvas_data_pointer(this.ptr)}on_key_down(n){r.webemulator_on_key_down(this.ptr,n)}on_key_up(n){r.webemulator_on_key_up(this.ptr,n)}set_audio_buffer_callback(n){try{r.webemulator_set_audio_buffer_callback(this.ptr,v(n))}finally{o[y++]=void 0}}}function E(n){return c(i(n))}function k(){return c(new Error)}function C(n,e){const t=g(i(e).stack,r.__wbindgen_malloc,r.__wbindgen_realloc),o=u;m()[n/4+1]=o,m()[n/4+0]=t}function P(n,e){try{console.error(h(n,e))}finally{r.__wbindgen_free(n,e)}}function T(n){!function(n){const e=i(n);(function(n){n<36||(o[n]=a,a=n)})(n)}(n)}function O(n){return c(n)}function N(){return _((function(n,e,t){return c(i(n).call(i(e),i(t)))}),arguments)}function B(n,e){const t=g(s(i(e)),r.__wbindgen_malloc,r.__wbindgen_realloc),o=u;m()[n/4+1]=o,m()[n/4+0]=t}function R(n,e){throw new Error(h(n,e))}},4550:(n,e,t)=>{e._=void 0;var r=t(2438);Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r.useLocalStorage}});t(3470);r.useLocalStorage},6690:(n,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowser=void 0,e.isBrowser=function(){return"undefined"!=typeof window&&void 0!==window.document}},3470:(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.deleteFromStorage=e.writeStorage=e.isTypeOfLocalStorageChanged=e.LOCAL_STORAGE_CHANGE_EVENT_NAME=void 0;var r=t(3301),o=t(6690);e.LOCAL_STORAGE_CHANGE_EVENT_NAME="onLocalStorageChange",o.isBrowser()&&"function"!=typeof t.g.window.CustomEvent&&(window.CustomEvent=function(n,e){var t,r;void 0===e&&(e={bubbles:!1,cancelable:!1});var o=document.createEvent("CustomEvent");return o.initCustomEvent(n,null!==(t=null==e?void 0:e.bubbles)&&void 0!==t&&t,null!==(r=null==e?void 0:e.cancelable)&&void 0!==r&&r,null==e?void 0:e.detail),o}),e.isTypeOfLocalStorageChanged=function(n){return!!n&&n.type===e.LOCAL_STORAGE_CHANGE_EVENT_NAME},e.writeStorage=function(n,t){if(o.isBrowser())try{r.storage.setItem(n,"object"==typeof t?JSON.stringify(t):""+t),window.dispatchEvent(new CustomEvent(e.LOCAL_STORAGE_CHANGE_EVENT_NAME,{detail:{key:n,value:t}}))}catch(n){if(n instanceof TypeError&&n.message.includes("circular structure"))throw new TypeError("The object that was given to the writeStorage function has circular references.\nFor more information, check here: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cyclic_object_value");throw n}},e.deleteFromStorage=function(n){o.isBrowser()&&(r.storage.removeItem(n),window.dispatchEvent(new CustomEvent(e.LOCAL_STORAGE_CHANGE_EVENT_NAME,{detail:{key:n,value:null}})))}},3301:(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.storage=e.MemoryStorageProxy=e.LocalStorageProxy=e.localStorageAvailable=void 0;var r=t(6690);function o(){try{var n="@rehooks/local-storage:"+(new Date).toISOString();return localStorage.setItem(n,n),localStorage.removeItem(n),!0}catch(n){return r.isBrowser()&&n instanceof DOMException&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&localStorage&&0!==localStorage.length}}e.localStorageAvailable=o;var i=function(){function n(){}return n.prototype.getItem=function(n){return localStorage.getItem(n)},n.prototype.setItem=function(n,e){localStorage.setItem(n,e)},n.prototype.removeItem=function(n){localStorage.removeItem(n)},n}();e.LocalStorageProxy=i;var a=function(){function n(){this._memoryStorage=new Map}return n.prototype.getItem=function(n){var e;return null!==(e=this._memoryStorage.get(n))&&void 0!==e?e:null},n.prototype.setItem=function(n,e){this._memoryStorage.set(n,e)},n.prototype.removeItem=function(n){this._memoryStorage.delete(n)},n}();e.MemoryStorageProxy=a,e.storage=o()?new i:new a},2438:(n,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.useLocalStorage=void 0;var r=t(3470),o=t(6690),i=t(3301),a=t(9496);function c(n){try{return JSON.parse(n)}catch(e){return n}}e.useLocalStorage=function(n,e){void 0===e&&(e=null);var t=a.useState(null===i.storage.getItem(n)?e:c(i.storage.getItem(n))),s=t[0],u=t[1],l=a.useCallback((function(e){r.isTypeOfLocalStorageChanged(e)?e.detail.key===n&&u(e.detail.value):e.key===n&&u(null===e.newValue?null:c(e.newValue))}),[u,n]);a.useEffect((function(){if(o.isBrowser()){var t=function(n){l(n)};return window.addEventListener(r.LOCAL_STORAGE_CHANGE_EVENT_NAME,t),window.addEventListener("storage",t),null===i.storage.getItem(n)&&null!==e&&r.writeStorage(n,e),function(){window.removeEventListener(r.LOCAL_STORAGE_CHANGE_EVENT_NAME,t),window.removeEventListener("storage",t)}}}),[n,e,l]);var d=a.useCallback((function(e){return r.writeStorage(n,e)}),[n]),f=a.useCallback((function(){return r.deleteFromStorage(n)}),[n]);return[null!=s?s:e,d,f]}},2568:(n,e,t)=>{t.r(e),t.d(e,{Play:()=>ye,default:()=>ve});var r=t(5390),o=t(4550),i=t(9496),a=t(7280),c=t(4637),s=function(n,e,t){if(t||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return n.concat(r||Array.prototype.slice.call(e))},u=(0,i.createContext)({input:[],onKeyDown:function(){},onKeyUp:function(){}});function l(n){var e=n.children,t=(0,i.useState)([]),r=t[0],o=t[1],a=(0,i.useCallback)((function(n){o((function(e){return e.filter((function(e){return n!==e}))}))}),[]),l=(0,i.useCallback)((function(n){o((function(e){return e.includes(n)?e:s(s([],e,!0),[n],!1)}))}),[]);return(0,c.jsx)(u.Provider,{value:{input:r,onKeyUp:a,onKeyDown:l},children:e})}var d=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n};function f(n){return function(e){return"".concat(e.theme.zoom*n,"px")}}function p(){return(0,r.iv)(U||(U=d(["\n    filter: brightness(80%);\n  "],["\n    filter: brightness(80%);\n  "])))}var g,b=r.ZP.div(z||(z=d(["\n  display: flex;\n  justify-content: center;\n"],["\n  display: flex;\n  justify-content: center;\n"]))),m=r.ZP.div(M||(M=d(["\n  display: inline-block;\n  margin: 10px;\n  background: #eee;\n  border-radius: 10px 10px 60px 10px;\n  box-shadow: 5px 5px rgba(0, 0, 0, 0.1);\n  padding: ",";\n  color: ",";\n  position: relative;\n"],["\n  display: inline-block;\n  margin: 10px;\n  background: #eee;\n  border-radius: 10px 10px 60px 10px;\n  box-shadow: 5px 5px rgba(0, 0, 0, 0.1);\n  padding: ",";\n  color: ",";\n  position: relative;\n"])),f(20),"#393C81"),x=r.ZP.div($||($=d(["\n  background-color: #777;\n  border-radius: "," "," "," ",";\n  box-shadow: inset 0px 0px 20px 0px rgba(0, 0, 0, 0.66);\n"],["\n  background-color: #777;\n  border-radius: "," "," "," ",";\n  box-shadow: inset 0px 0px 20px 0px rgba(0, 0, 0, 0.66);\n"])),f(7),f(7),f(40),f(7)),h=r.ZP.div(W||(W=d(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: ",";\n  font-size: ",";\n  font-family: Arial;\n  color: #b3b3b3;\n  padding: 0 "," 0;\n"],["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: ",";\n  font-size: ",";\n  font-family: Arial;\n  color: #b3b3b3;\n  padding: 0 "," 0;\n"])),f(23),f(6),f(8)),w=r.ZP.div(K||(K=d(["\n  flex: 0 0 auto;\n  margin: 0 ",";\n"],["\n  flex: 0 0 auto;\n  margin: 0 ",";\n"])),f(5)),y=r.ZP.div(F||(F=d(["\n  display: flex;\n  margin-right: ",";\n  padding-bottom: ",";\n"],["\n  display: flex;\n  margin-right: ",";\n  padding-bottom: ",";\n"])),f(45),f(23)),v=r.ZP.div(G||(G=d(["\n  flex: 1 1 ",";\n  height: ",";\n  background-color: #8b1d90;\n  box-shadow: 0 "," 0 #283593;\n  margin-top: -",";\n"],["\n  flex: 1 1 ",";\n  height: ",";\n  background-color: #8b1d90;\n  box-shadow: 0 "," 0 #283593;\n  margin-top: -",";\n"])),(function(n){return n.width}),f(3),f(6),f(6)),j=r.ZP.div(V||(V=d(["\n  margin-left: auto;\n  margin-right: auto;\n  position: relative;\n"],["\n  margin-left: auto;\n  margin-right: auto;\n  position: relative;\n"]))),_=r.ZP.div(H||(H=d(["\n  position: absolute;\n  box-shadow: inset 5px 5px 5px 0px rgba(0, 0, 0, 0.6);\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n"],["\n  position: absolute;\n  box-shadow: inset 5px 5px 5px 0px rgba(0, 0, 0, 0.6);\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n"]))),A=r.ZP.div(q||(q=d(["\n  background-color: ",";\n  box-shadow: 0 0 3px 1px #ef5350;\n  height: ",";\n  width: ",";\n  border-radius: ","px;\n  margin: 10px 20px 10px 10px;\n  box-shadow: inset 0px 0px 5px 0px rgba(0, 0, 0, 0.66);\n"],["\n  background-color: ",";\n  box-shadow: 0 0 3px 1px #ef5350;\n  height: ",";\n  width: ",";\n  border-radius: ","px;\n  margin: 10px 20px 10px 10px;\n  box-shadow: inset 0px 0px 5px 0px rgba(0, 0, 0, 0.66);\n"])),(function(n){return n.enabled?"#f00":"#000"}),f(9),f(9),(function(n){return 9*n.theme.zoom/2})),S=r.ZP.div(J||(J=d(["\n  font-family: Arial;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: #b3b3b3;\n  width: ",";\n  font-size: ",";\n  margin-bottom: 80px;\n"],["\n  font-family: Arial;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: #b3b3b3;\n  width: ",";\n  font-size: ",";\n  margin-bottom: 80px;\n"])),f(45),f(6)),L=r.ZP.div(Y||(Y=d(["\n  letter-spacing: 1px;\n  font-size: ",";\n"],["\n  letter-spacing: 1px;\n  font-size: ",";\n"])),f(13)),E=r.ZP.div(Q||(Q=d(["\n  margin-left: ",";\n  font-size: ",";\n"],["\n  margin-left: ",";\n  font-size: ",";\n"])),f(2),f(20)),k=r.ZP.div(X||(X=d(["\n  font-size: ",";\n"],["\n  font-size: ",";\n"])),f(6)),C=r.ZP.div(nn||(nn=d(["\n  background-color: ",";\n  height: ",";\n  width: ",";\n  border-radius: ",";\n\n  ","\n"],["\n  background-color: ",";\n  height: ",";\n  width: ",";\n  border-radius: ",";\n\n  ","\n"])),"#8A205E",f(36),f(36),f(18),(function(n){return n.$pressed&&p()})),P=r.ZP.div(en||(en=d(["\n  position: relative;\n"],["\n  position: relative;\n"]))),T=r.ZP.div(tn||(tn=d(["\n  font-size: ",";\n  letter-spacing: ",";\n"],["\n  font-size: ",";\n  letter-spacing: ",";\n"])),f(12),f(1)),O=(0,r.ZP)(T)(rn||(rn=d(["\n  margin-top: ",";\n"],["\n  margin-top: ",";\n"])),(function(n){return f(n.$spacing)})),N=r.ZP.div(on||(on=d(["\n  display: inline-flex;\n  margin-top: ",";\n  margin-right: -",";\n  transform: rotate(-","deg);\n  padding: ",";\n\n  background-color: #dfdfdf;\n  box-shadow: 0 0 0 5px #dfdfdf;\n  border-radius: ",";\n\n  > * + * {\n    margin-left: ",";\n  }\n\n  "," {\n    bottom: -",";\n    position: absolute;\n    left: 0;\n    right: 0;\n    text-align: center;\n  }\n"],["\n  display: inline-flex;\n  margin-top: ",";\n  margin-right: -",";\n  transform: rotate(-","deg);\n  padding: ",";\n\n  background-color: #dfdfdf;\n  box-shadow: 0 0 0 5px #dfdfdf;\n  border-radius: ",";\n\n  > * + * {\n    margin-left: ",";\n  }\n\n  "," {\n    bottom: -",";\n    position: absolute;\n    left: 0;\n    right: 0;\n    text-align: center;\n  }\n"])),f(10),f(12),25,f(5),f(36),f(18),O,f(25)),B=r.ZP.div(an||(an=d(["\n  transform: rotate(-","deg);\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n"],["\n  transform: rotate(-","deg);\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n"])),25),R=r.ZP.div(cn||(cn=d(["\n  border-radius: ",";\n  background-color: #dfdfdf;\n  padding: ",";\n"],["\n  border-radius: ",";\n  background-color: #dfdfdf;\n  padding: ",";\n"])),f(9.5),f(5)),D=r.ZP.div(sn||(sn=d(["\n  background-color: #868a8d;\n  width: ",";\n  height: ",";\n  border-radius: ",";\n  ","\n"],["\n  background-color: #868a8d;\n  width: ",";\n  height: ",";\n  border-radius: ",";\n  ","\n"])),f(38),f(9),f(4.5),(function(n){return n.$pressed&&p()})),Z=r.ZP.div(un||(un=d(["\n  display: flex;\n  margin-left: ",";\n  margin-top: ",";\n  margin-bottom: ",";\n  "," + "," {\n    margin-left: ",";\n  }\n"],["\n  display: flex;\n  margin-left: ",";\n  margin-top: ",";\n  margin-bottom: ",";\n  "," + "," {\n    margin-left: ",";\n  }\n"])),f(80),f(30),f(40),B,B,f(7)),I=r.ZP.div(ln||(ln=d([""],[""])));!function(n){n[n.HORIZONTAL=0]="HORIZONTAL",n[n.VERTICAL=1]="VERTICAL"}(g||(g={}));var U,z,M,$,W,K,F,G,V,H,q,J,Y,Q,X,nn,en,tn,rn,on,an,cn,sn,un,ln,dn,fn,pn,gn,bn,mn,xn,hn,wn,yn,vn,jn,_n,An,Sn=r.ZP.div(dn||(dn=d(["\n  display: flex;\n  justify-content: center;\n"],["\n  display: flex;\n  justify-content: center;\n"]))),Ln=r.ZP.div(fn||(fn=d(["\n  width: ",";\n  height: 80%;\n  background-color: #353535;\n  margin: ",";\n  border-radius: ",";\n"],["\n  width: ",";\n  height: 80%;\n  background-color: #353535;\n  margin: ",";\n  border-radius: ",";\n"])),f(2),f(2),f(5)),En=r.ZP.div(pn||(pn=d(["\n  position: relative;\n  height: ",";\n  width: ",";\n  background-color: #1b1d1d;\n"],["\n  position: relative;\n  height: ",";\n  width: ",";\n  background-color: #1b1d1d;\n"])),f(26),f(26)),kn=(0,r.ZP)(En)(mn||(mn=d(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: ",";\n\n  "," {\n    ","\n\n    ",";\n  }\n"],["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: ",";\n\n  "," {\n    ","\n\n    ",";\n  }\n"])),(function(n){return n.$orientation===g.VERTICAL?"row":"column"}),Ln,(function(n){return n.$pressed&&p()}),(function(n){return n.$orientation===g.VERTICAL?(0,r.iv)(gn||(gn=d(["\n            width: ",";\n            height: 60%;\n          "],["\n            width: ",";\n            height: 60%;\n          "])),f(3)):(0,r.iv)(bn||(bn=d(["\n            height: ",";\n            width: 60%;\n          "],["\n            height: ",";\n            width: 60%;\n          "])),f(3))})),Cn=(0,r.ZP)(kn)(xn||(xn=d(["\n  border-radius: "," 0 0 ",";\n"],["\n  border-radius: "," 0 0 ",";\n"])),f(5),f(5)),Pn=(0,r.ZP)(kn)(hn||(hn=d(["\n  border-radius: "," "," 0 0;\n"],["\n  border-radius: "," "," 0 0;\n"])),f(5),f(5)),Tn=(0,r.ZP)(kn)(wn||(wn=d(["\n  border-radius: 0 "," "," 0;\n"],["\n  border-radius: 0 "," "," 0;\n"])),f(5),f(5)),On=(0,r.ZP)(kn)(yn||(yn=d(["\n  border-radius: 0 0 "," ",";\n"],["\n  border-radius: 0 0 "," ",";\n"])),f(5),f(5)),Nn=(0,r.ZP)(En)(vn||(vn=d(["\n  &:before {\n    content: '';\n    position: absolute;\n    z-index: 1;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    margin: auto;\n    height: ",";\n    width: ",";\n    background-color: #353535;\n    border-radius: 100%;\n  }\n"],["\n  &:before {\n    content: '';\n    position: absolute;\n    z-index: 1;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    margin: auto;\n    height: ",";\n    width: ",";\n    background-color: #353535;\n    border-radius: 100%;\n  }\n"])),f(19),f(19)),Bn=r.ZP.div(jn||(jn=d(["\n  display: flex;\n  margin-top: ",";\n"],["\n  display: flex;\n  margin-top: ",";\n"])),f(35)),Rn=r.ZP.div(_n||(_n=d(["\n  height: ",";\n  width: ",";\n  background-color: #a7a49f;\n  border-radius: ",";\n  box-shadow: inset 0px 0px 5px 0px rgb(95 95 95 / 66%);\n"],["\n  height: ",";\n  width: ",";\n  background-color: #a7a49f;\n  border-radius: ",";\n  box-shadow: inset 0px 0px 5px 0px rgb(95 95 95 / 66%);\n"])),f(48),f(5),f(5)),Dn={Wrapper:b,Device:m,Display:x,DisplayTop:h,DisplayHeaderText:w,DisplayContent:y,DisplayLine:v,Screen:j,ScreenOverlay:_,Battery:S,BatteryIndicator:A,NintendoText:L,GameBoyText:E,TradeMarkText:k,Controls:Bn,ButtonsAB:N,CircleButtonWrapper:P,CircleButton:C,ButtonText:O,ButtonsStartSelect:Z,WideButton:D,WideButtonWrapper:R,WideButtonContainer:B,Arrows:I,ArrowsLine:Sn,ArrowUp:Pn,ArrowDown:On,ArrowLeft:Cn,ArrowRight:Tn,ArrowCenter:Nn,ArrowStripe:Ln,Speakers:r.ZP.div(An||(An=d(["\n  display: inline-flex;\n  transform: rotate(-28deg);\n  position: absolute;\n  bottom: ",";\n  right: ",";\n\n  "," + "," {\n    margin-left: ",";\n  }\n"],["\n  display: inline-flex;\n  transform: rotate(-28deg);\n  position: absolute;\n  bottom: ",";\n  right: ",";\n\n  "," + "," {\n    margin-left: ",";\n  }\n"])),f(19),f(15),Rn,Rn,f(8)),Speaker:Rn};function Zn(n){return(0,c.jsxs)(Dn.Display,{children:[(0,c.jsxs)(Dn.DisplayTop,{children:[(0,c.jsx)(Dn.DisplayLine,{width:"25%"}),(0,c.jsx)(Dn.DisplayHeaderText,{children:"DOT MATRIX WITH STEREO SOUND"}),(0,c.jsx)(Dn.DisplayLine,{width:"12%"})]}),(0,c.jsxs)(Dn.DisplayContent,{children:[(0,c.jsxs)(Dn.Battery,{children:[(0,c.jsx)(Dn.BatteryIndicator,{enabled:n.enabled}),"BATTERY"]}),(0,c.jsxs)(Dn.Screen,{children:[n.children,(0,c.jsx)(Dn.ScreenOverlay,{})]})]})]})}var In=t(3595),Un=160,zn=144;function Mn(n,e){var t=n.running,o=(0,r.Fg)().zoom,a=(0,i.useContext)(u),s=a.input,l=a.onKeyDown,d=a.onKeyUp,f=s.includes(In.Lt.A),p=s.includes(In.Lt.B),b=s.includes(In.Lt.Start),m=s.includes(In.Lt.Select),x=s.includes(In.Lt.ArrowLeft),h=s.includes(In.Lt.ArrowRight),w=s.includes(In.Lt.ArrowUp),y=s.includes(In.Lt.ArrowDown);return(0,c.jsx)(Dn.Wrapper,{children:(0,c.jsxs)(Dn.Device,{children:[(0,c.jsx)(Zn,{enabled:t,children:(0,c.jsx)("canvas",{ref:e,style:{display:"block",imageRendering:"pixelated",zoom:o},height:zn,width:Un})}),(0,c.jsxs)("div",{className:"flex items-baseline",children:[(0,c.jsx)(Dn.NintendoText,{className:"font-pretendo",children:"Nintendo"}),(0,c.jsx)(Dn.GameBoyText,{className:"font-gills-sans font-medium italic",children:"GAME BOY"}),(0,c.jsx)(Dn.TradeMarkText,{className:"font-bold",children:"TM"})]}),(0,c.jsxs)(Dn.Controls,{children:[(0,c.jsxs)(Dn.Arrows,{children:[(0,c.jsx)(Dn.ArrowsLine,{children:(0,c.jsxs)(Dn.ArrowUp,{onPointerDown:function(){return l(In.Lt.ArrowUp)},onPointerUp:function(){return d(In.Lt.ArrowUp)},$orientation:g.HORIZONTAL,$pressed:w,children:[(0,c.jsx)(Dn.ArrowStripe,{}),(0,c.jsx)(Dn.ArrowStripe,{}),(0,c.jsx)(Dn.ArrowStripe,{})]})}),(0,c.jsxs)(Dn.ArrowsLine,{children:[(0,c.jsxs)(Dn.ArrowLeft,{onPointerDown:function(){return l(In.Lt.ArrowLeft)},onPointerUp:function(){return d(In.Lt.ArrowLeft)},$orientation:g.VERTICAL,$pressed:x,children:[(0,c.jsx)(Dn.ArrowStripe,{}),(0,c.jsx)(Dn.ArrowStripe,{}),(0,c.jsx)(Dn.ArrowStripe,{})]}),(0,c.jsx)(Dn.ArrowCenter,{}),(0,c.jsxs)(Dn.ArrowRight,{onPointerDown:function(){return l(In.Lt.ArrowRight)},onPointerUp:function(){return d(In.Lt.ArrowRight)},$orientation:g.VERTICAL,$pressed:h,children:[(0,c.jsx)(Dn.ArrowStripe,{}),(0,c.jsx)(Dn.ArrowStripe,{}),(0,c.jsx)(Dn.ArrowStripe,{})]})]}),(0,c.jsx)(Dn.ArrowsLine,{children:(0,c.jsxs)(Dn.ArrowDown,{onPointerDown:function(){return l(In.Lt.ArrowDown)},onPointerUp:function(){return d(In.Lt.ArrowDown)},$orientation:g.HORIZONTAL,$pressed:y,children:[(0,c.jsx)(Dn.ArrowStripe,{}),(0,c.jsx)(Dn.ArrowStripe,{}),(0,c.jsx)(Dn.ArrowStripe,{})]})})]}),(0,c.jsx)("div",{className:"ml-auto",children:(0,c.jsxs)(Dn.ButtonsAB,{className:" font-nes",children:[(0,c.jsxs)(Dn.CircleButtonWrapper,{children:[(0,c.jsx)(Dn.CircleButton,{onPointerDown:function(){return l(In.Lt.B)},onPointerUp:function(){return d(In.Lt.B)},$pressed:p}),(0,c.jsx)(Dn.ButtonText,{$spacing:10,children:"B"})]}),(0,c.jsxs)(Dn.CircleButtonWrapper,{children:[(0,c.jsx)(Dn.CircleButton,{onPointerDown:function(){return l(In.Lt.A)},onPointerUp:function(){return d(In.Lt.A)},$pressed:f}),(0,c.jsx)(Dn.ButtonText,{$spacing:10,children:"A"})]})]})})]}),(0,c.jsxs)(Dn.ButtonsStartSelect,{className:"font-nes",children:[(0,c.jsxs)(Dn.WideButtonContainer,{children:[(0,c.jsx)(Dn.WideButtonWrapper,{children:(0,c.jsx)(Dn.WideButton,{onPointerDown:function(){return l(In.Lt.Select)},onPointerUp:function(){return d(In.Lt.Select)},$pressed:m})}),(0,c.jsx)(Dn.ButtonText,{$spacing:1,children:"SELECT"})]}),(0,c.jsxs)(Dn.WideButtonContainer,{children:[(0,c.jsx)(Dn.WideButtonWrapper,{children:(0,c.jsx)(Dn.WideButton,{onPointerDown:function(){return l(In.Lt.Start)},onPointerUp:function(){return d(In.Lt.Start)},$pressed:b})}),(0,c.jsx)(Dn.ButtonText,{$spacing:1,children:"START"})]})]}),(0,c.jsxs)(Dn.Speakers,{children:[(0,c.jsx)(Dn.Speaker,{}),(0,c.jsx)(Dn.Speaker,{}),(0,c.jsx)(Dn.Speaker,{}),(0,c.jsx)(Dn.Speaker,{}),(0,c.jsx)(Dn.Speaker,{}),(0,c.jsx)(Dn.Speaker,{})]})]})})}var $n,Wn,Kn,Fn=(0,i.forwardRef)(Mn),Gn=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},Vn={Icon:r.ZP.div($n||($n=Gn(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n  "],["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n  "]))),Wrapper:r.ZP.div(Wn||(Wn=Gn(["\n    font-size: ",";\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  "],["\n    font-size: ",";\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  "])),"12px"),Value:r.ZP.div(Kn||(Kn=Gn(["\n    margin: 0 5px;\n  "],["\n    margin: 0 5px;\n  "])))};function Hn(n){var e=n.zoom,t=n.onChange;return(0,c.jsxs)(Vn.Wrapper,{children:[(0,c.jsx)(Vn.Icon,{children:(0,c.jsx)("button",{type:"button",onClick:function(){return t(Math.max(1,e-.5))},children:"-"})}),(0,c.jsxs)(Vn.Value,{children:["Zoom: ",e.toFixed(1)]}),(0,c.jsx)(Vn.Icon,{children:(0,c.jsx)("button",{type:"button",onClick:function(){return t(Math.min(e+.5,5))},children:"+"})})]})}var qn,Jn,Yn,Qn=t(8005),Xn=r.ZP.div(qn||(Jn=["\n  cursor: pointer;\n"],Yn=["\n  cursor: pointer;\n"],Object.defineProperty?Object.defineProperty(Jn,"raw",{value:Yn}):Jn.raw=Yn,qn=Jn));function ne(){var n=(0,Qn.s0)();return(0,c.jsx)(Xn,{onClick:function(){return n(-1)},children:"←"})}function ee(n,e,t){if(void 0===t&&(t=1),t>0&&n>=e||t<0&&n<=e)return[];for(var r=[],o=n;t>0?o<e:o>e;o+=t)r.push(o);return r}var te=t(4108).y.filter((function(n){return["demos/cgb-acid2.gbc","demos/dmg-acid2.gb","demos/gejmboj.gb","demos/oh.gb","demos/opus5.gb","demos/pocket.gb"].includes(n.name)})),re=te.find((function(n){return"demos/oh.gb"===n.name}))||null;function oe(n){var e=(0,i.useCallback)((function(e){var t;e&&(t=e.url,fetch(t).then((function(n){return n.arrayBuffer()})).then((function(n){return new Uint8Array(n)}))).then((function(t){return n.onCartridgeLoad({name:e.name,bytes:t})}))}),[]);return(0,i.useEffect)((function(){e(re)}),[e]),(0,c.jsx)("table",{children:(0,c.jsx)("tbody",{children:te.map((function(t){return(0,c.jsxs)("tr",{className:n.selectedName===t.name?"font-medium underline":"",children:[(0,c.jsx)("td",{className:"px-1",children:t.name}),(0,c.jsx)("td",{className:"px-1",children:(0,c.jsx)("button",{type:"button",onClick:function(){return e(t)},children:"Load"})})]},t.url)}))})})}function ie(n){var e=n.onLoad,t=n.className,r=n.children;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{onChange:function(n){var t=n.currentTarget.files;if(t){var r=t[0];r.arrayBuffer().then((function(n){return new Uint8Array(n)})).then((function(n){return e({name:"Custom: ".concat(r.name),bytes:n,custom:!0})}))}},accept:".gb,.gbc",style:{display:"none"},id:"file",multiple:!0,type:"file"}),(0,c.jsx)("label",{className:t,htmlFor:"file",children:r})]})}var ae,ce,se={ArrowDown:In.Lt.ArrowDown,ArrowUp:In.Lt.ArrowUp,ArrowLeft:In.Lt.ArrowLeft,ArrowRight:In.Lt.ArrowRight,KeyD:In.Lt.ArrowRight,KeyA:In.Lt.ArrowLeft,KeyW:In.Lt.ArrowUp,KeyS:In.Lt.ArrowDown,KeyJ:In.Lt.A,KeyX:In.Lt.A,KeyK:In.Lt.B,KeyC:In.Lt.B,KeyB:In.Lt.Start,KeyN:In.Lt.Select},ue=t(1873),le=t(3013),de=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},fe=r.ZP.span(ae||(ae=de(["\n  font-size: ","px;\n"],["\n  font-size: ","px;\n"])),12),pe=r.ZP.canvas(ce||(ce=de(["\n  display: inline-block;\n"],["\n  display: inline-block;\n"]))),ge=[];function be(){var n=(0,i.useRef)(window.performance.now()),e=(0,i.useRef)(null),t=(0,i.useRef)(0);return(0,i.useEffect)((function(){return function r(){t.current=window.requestAnimationFrame((function(){var t,o=window.performance.now(),i=o-n.current;n.current=o;var a=Math.round(1e3/i);ge.push(a),ge.length>64&&ge.shift();var c=Math.round(ge.reduce((function(n,e){return n+e}))/ge.length),s=null===(t=e.current)||void 0===t?void 0:t.getContext("2d");s&&(s.clearRect(0,0,30,20),s.textBaseline="middle",s.font="12px Arial",s.fillText(c.toString(),1,11)),r()}))}(),function(){return window.cancelAnimationFrame(t.current)}}),[]),(0,c.jsxs)(fe,{className:"flex items-center justify-end",children:["Average FPS:"," ",(0,c.jsx)(pe,{width:30,height:20,ref:e})]})}var me=!1,xe=new AudioContext({sampleRate:44100});function he(n){n.fillStyle="#6D7C00",n.fillRect(0,0,Un,zn)}function we(n){var e,t,r,o,a,c=n.bytes,s=n.wasmModule,l=n.running,d=n.ctx,f=n.soundEnabled,p=(0,i.useRef)(),g=(0,i.useRef)(0),b=(0,i.useRef)(0),m=(e=(0,i.useContext)(u),t=e.onKeyDown,r=e.onKeyUp,o=e.input,a=(0,i.useRef)(),(0,i.useEffect)((function(){Object.values(se).forEach((function(n){var e,t;o.includes(n)?null===(e=a.current)||void 0===e||e.on_key_down(n):null===(t=a.current)||void 0===t||t.on_key_up(n)}))}),[o]),(0,i.useEffect)((function(){var n=function(n){var e=se[n.code];void 0!==e&&t(e)},e=function(n){var e=se[n.code];void 0!==e&&r(e)};return window.addEventListener("keydown",n),window.addEventListener("keyup",e),function(){window.removeEventListener("keydown",n),window.removeEventListener("keyup",e)}}),[]),(0,i.useCallback)((function(n){a.current=n}),[]));(0,i.useEffect)((function(){he(d)}),[d]);var x=(0,i.useCallback)((function(n){for(var e=s.get_audio_buffer_size(),t=new Float32Array(le.memory.buffer,n,e),r=t.length/2,o=xe.createBuffer(2,r,xe.sampleRate),i=0;i<2;i+=1)for(var a=o.getChannelData(i),c=0;c<r;c+=1)a[c]=t[2*c+i];var u=xe.createBufferSource();u.buffer=o,u.connect(xe.destination),g.current<=xe.currentTime+.02&&(g.current=xe.currentTime+.06),u.start(g.current),g.current+=e/2/xe.sampleRate}),[]);return(0,i.useEffect)((function(){if(c){var n=new s.WebCartridge(c);g.current=0,p.current=new s.WebEmulator(n,(function(){})),he(d),m(p.current)}}),[c,s,m]),(0,i.useEffect)((function(){var n=p.current;n&&n.set_audio_buffer_callback(f?x:function(){})}),[p.current,f,x]),(0,i.useEffect)((function(){var n=p.current;if(n)if(l){var e=function(){n.run_frame(),function(n,e){var t=n.get_canvas_data_pointer(),r=e.createImageData(Un,zn),o=new Uint8Array(le.memory.buffer,t,69120);ee(0,zn).forEach((function(n){ee(0,Un).forEach((function(e){var t=3*(n*Un+e),i=4*(n*Un+e);r.data[i]=o[t],r.data[i+1]=o[t+1],r.data[i+2]=o[t+2],r.data[i+3]=255}))})),e.putImageData(r,0,0)}(n,d),b.current=window.requestAnimationFrame(e)};e()}else window.cancelAnimationFrame(b.current)}),[l]),null}function ye(){var n=(0,o._)("zoom",1.5),e=n[0],s=n[1],u=(0,o._)("sound_enabled",!1),d=u[0],f=u[1],p=(0,i.useState)(!1),g=p[0],b=p[1],m=(0,i.useState)(),x=m[0],h=m[1],w=(0,i.useState)(null),y=w[0],v=w[1],j={zoom:e},_=function(){var n=(0,i.useState)(null),e=n[0],r=n[1];return(0,i.useEffect)((function(){t.e(670).then(t.bind(t,2670)).then((function(n){n.init(),r(n)})).catch(console.error)}),[]),e}(),A=(0,i.useCallback)((function(n){n&&h((function(e){return e||(n.getContext("2d")||e)}))}),[]),S=function(n){b(!1),v(n)};return _?(0,c.jsx)("div",{className:"select-none",children:(0,c.jsx)(l,{children:(0,c.jsxs)(r.f6,{theme:j,children:[(0,c.jsxs)("div",{className:"grid grid-cols-3 justify-between items-center mx-2 pt-2",children:[(0,c.jsx)(ne,{}),(0,c.jsx)(Hn,{zoom:e,onChange:s}),(0,c.jsx)("div",{className:"justify-end",children:(0,c.jsx)(be,{})})]}),(0,c.jsx)(Fn,{running:g,ref:A}),x&&(0,c.jsx)(we,{bytes:null==y?void 0:y.bytes,wasmModule:_,running:g,soundEnabled:d,ctx:x}),(0,c.jsxs)("div",{className:"mt-2 flex justify-center items-center text-xs",children:[(0,c.jsx)("button",{className:"mx-2 border rounded px-1 py-1",type:"button",onClick:function(){!function(n){if(!me){me=!0;var e=n.createBuffer(1,1,n.sampleRate),t=n.createBufferSource();t.buffer=e,t.connect(n.destination),t.start(0),n.resume()}}(xe),b((function(n){return!n&&!(n||!y)}))},children:g?"Stop":"Run"}),(0,c.jsx)(ie,{className:"mx-2 border rounded px-1 py-1",onLoad:S,children:"Upload ROM"}),(0,c.jsxs)("label",{className:"flex justify-center items-center",htmlFor:"soundEnableCheckbox",children:[(0,c.jsx)("input",{id:"soundEnableCheckbox",className:"mr-1",type:"checkbox",checked:d,onChange:function(n){return f(n.currentTarget.checked)}}),"Enable sound"]})]}),(null==y?void 0:y.custom)&&(0,c.jsx)("div",{className:"mt-2 flex justify-center text-xs",children:y.name}),(0,c.jsx)("div",{className:"mt-2 flex justify-center text-xs",children:(0,c.jsx)(oe,{selectedName:null==y?void 0:y.name,onCartridgeLoad:S})}),(0,c.jsx)("div",{className:"mt-2 flex text-center justify-center text-xs",children:(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{children:"Select one of the available demos or upload your custom *.gb file and press Run"}),(0,c.jsxs)("p",{children:["The test ROMs are available in"," ",(0,c.jsx)(a.rU,{className:"underline",to:"/debug",children:"debug mode"}),". You can see the test results"," ",(0,c.jsx)(a.rU,{className:"underline",to:"/test-results",children:"here"}),"."]})]})})]})})}):(0,c.jsx)(ue.l,{})}const ve=ye},4108:(n,e,t)=>{t.d(e,{y:()=>r});var r=[{name:"demos/CI5.gbc",url:t.p+"5a60931f91360525cc92ac83ff9d353f.gbc"},{name:"demos/cgb-acid2.gbc",url:t.p+"26cd22abc92816c0e20290891808fc41.gbc"},{name:"demos/dmg-acid2.gb",url:t.p+"14f9da3508d034883a3725195d74af75.gb"},{name:"demos/firstwhite.gb",url:t.p+"eecbffb962d1d105cb0234e7c13c6275.gb"},{name:"demos/gejmboj.gb",url:t.p+"ff80b6f5a35c465e3ba709af42967d06.gb"},{name:"demos/lyc.gb",url:t.p+"f6d975ea9196cc1c36c1928c9f681761.gb"},{name:"demos/numism.gb",url:t.p+"f95640fc394c6883db2c047ec997da84.gb"},{name:"demos/oh.gb",url:t.p+"657174485b9523ededc4d774eab76cbf.gb"},{name:"demos/opus5.gb",url:t.p+"e2361cd5a8e619b0b8638e5a1588b9dc.gb"},{name:"demos/pocket.gb",url:t.p+"1096465e3ab6cff920824f1ae206a59e.gb"},{name:"demos/pokemon-tv-opening.gbc",url:t.p+"d365f9a6b6d7393b6a659701b01d4e79.gbc"}]},3013:(n,e,t)=>{var r=t.w[n.id];n.exports=r,t(3595),r[""]()}}]);